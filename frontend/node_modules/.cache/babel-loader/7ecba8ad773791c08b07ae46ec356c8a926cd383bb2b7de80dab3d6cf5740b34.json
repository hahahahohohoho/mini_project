{"ast":null,"code":"var _jsxFileName = \"C:\\\\LEECHANGSU_MAIN\\\\mini_project\\\\frontend\\\\src\\\\components\\\\board\\\\utils\\\\RecommendButton.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from '../../../axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function RecommendButton({\n  boardItem\n}) {\n  _s();\n  var _boardItem$recommends;\n  const token = localStorage.getItem('token');\n  const username = localStorage.getItem('username');\n  const [isRecommended, setIsRecommended] = useState((_boardItem$recommends = boardItem.recommends) === null || _boardItem$recommends === void 0 ? void 0 : _boardItem$recommends.some(recommend => recommend.username === username));\n  const handleRecommendSubmit = async () => {\n    if (username) {\n      try {\n        const newRecommend = {\n          username: username,\n          board_id: boardItem.id\n        };\n        const result = await axios.post(`/board/${boardItem.id}/recommend`, newRecommend, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        if (result) {\n          setIsRecommended(true);\n          alert('추천이 완료되었습니다.');\n        }\n      } catch (error) {\n        alert('추천에 실패했습니다.');\n      }\n    } else {\n      alert('로그인이 필요합니다.');\n    }\n  };\n  const handleCancelRecommendSubmit = async () => {\n    if (username) {\n      if (window.confirm('추천을 취소하시겠습니까?')) {\n        try {\n          const result = await axios.delete(`/board/${boardItem.id}/recommend`, {\n            headers: {\n              Authorization: `Bearer ${token}`\n            },\n            data: {\n              username: username,\n              board_id: boardItem.id\n            }\n          });\n          if (result) {\n            setIsRecommended(false);\n            alert('추천이 취소되었습니다.');\n          }\n        } catch (error) {\n          alert('추천 취소에 실패했습니다.');\n        }\n      }\n    } else {\n      alert('로그인이 필요합니다.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: isRecommended ? handleCancelRecommendSubmit : handleRecommendSubmit,\n    className: \"mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-300\",\n    children: isRecommended ? '추천 취소' : '추천'\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}\n_s(RecommendButton, \"NhS75kB9i0aWzymYDcyB0OJB4Hw=\");\n_c = RecommendButton;\nvar _c;\n$RefreshReg$(_c, \"RecommendButton\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","RecommendButton","boardItem","_s","_boardItem$recommends","token","localStorage","getItem","username","isRecommended","setIsRecommended","recommends","some","recommend","handleRecommendSubmit","newRecommend","board_id","id","result","post","headers","Authorization","alert","error","handleCancelRecommendSubmit","window","confirm","delete","data","onClick","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/LEECHANGSU_MAIN/mini_project/frontend/src/components/board/utils/RecommendButton.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from '../../../axios';\r\n\r\nexport default function RecommendButton({ boardItem }) {\r\n  const token = localStorage.getItem('token');\r\n  const username = localStorage.getItem('username');\r\n  const [isRecommended, setIsRecommended] = useState(\r\n    boardItem.recommends?.some(recommend => recommend.username === username)\r\n  );\r\n\r\n  const handleRecommendSubmit = async () => {\r\n    if (username) {\r\n      try {\r\n        const newRecommend = {\r\n          username: username,\r\n          board_id: boardItem.id,\r\n        };\r\n        const result = await axios.post(`/board/${boardItem.id}/recommend`, newRecommend, {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        });\r\n        if (result) {\r\n          setIsRecommended(true);\r\n          alert('추천이 완료되었습니다.');\r\n        }\r\n      } catch (error) {\r\n        alert('추천에 실패했습니다.');\r\n      }\r\n    } else {\r\n      alert('로그인이 필요합니다.');\r\n    }\r\n  };\r\n\r\n  const handleCancelRecommendSubmit = async () => {\r\n    if (username) {\r\n      if (window.confirm('추천을 취소하시겠습니까?')) {\r\n        try {\r\n          const result = await axios.delete(`/board/${boardItem.id}/recommend`, {\r\n            headers: {\r\n              Authorization: `Bearer ${token}`,\r\n            },\r\n            data: {\r\n              username: username,\r\n              board_id: boardItem.id,\r\n            },\r\n          });\r\n          if (result) {\r\n            setIsRecommended(false);\r\n            alert('추천이 취소되었습니다.');\r\n          }\r\n        } catch (error) {\r\n          alert('추천 취소에 실패했습니다.');\r\n        }\r\n      }\r\n    } else {\r\n      alert('로그인이 필요합니다.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <button\r\n      onClick={isRecommended ? handleCancelRecommendSubmit : handleRecommendSubmit}\r\n      className=\"mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-300\"\r\n    >\r\n      {isRecommended ? '추천 취소' : '추천'}\r\n    </button>\r\n  );\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,KAAK,MAAM,gBAAgB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnC,eAAe,SAASC,eAAeA,CAAC;EAAEC;AAAU,CAAC,EAAE;EAAAC,EAAA;EAAA,IAAAC,qBAAA;EACrD,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,MAAMC,QAAQ,GAAGF,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;EACjD,MAAM,CAACE,aAAa,EAAEC,gBAAgB,CAAC,GAAGb,QAAQ,EAAAO,qBAAA,GAChDF,SAAS,CAACS,UAAU,cAAAP,qBAAA,uBAApBA,qBAAA,CAAsBQ,IAAI,CAACC,SAAS,IAAIA,SAAS,CAACL,QAAQ,KAAKA,QAAQ,CACzE,CAAC;EAED,MAAMM,qBAAqB,GAAG,MAAAA,CAAA,KAAY;IACxC,IAAIN,QAAQ,EAAE;MACZ,IAAI;QACF,MAAMO,YAAY,GAAG;UACnBP,QAAQ,EAAEA,QAAQ;UAClBQ,QAAQ,EAAEd,SAAS,CAACe;QACtB,CAAC;QACD,MAAMC,MAAM,GAAG,MAAMpB,KAAK,CAACqB,IAAI,CAAC,UAAUjB,SAAS,CAACe,EAAE,YAAY,EAAEF,YAAY,EAAE;UAChFK,OAAO,EAAE;YACPC,aAAa,EAAE,UAAUhB,KAAK;UAChC;QACF,CAAC,CAAC;QACF,IAAIa,MAAM,EAAE;UACVR,gBAAgB,CAAC,IAAI,CAAC;UACtBY,KAAK,CAAC,cAAc,CAAC;QACvB;MACF,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdD,KAAK,CAAC,aAAa,CAAC;MACtB;IACF,CAAC,MAAM;MACLA,KAAK,CAAC,aAAa,CAAC;IACtB;EACF,CAAC;EAED,MAAME,2BAA2B,GAAG,MAAAA,CAAA,KAAY;IAC9C,IAAIhB,QAAQ,EAAE;MACZ,IAAIiB,MAAM,CAACC,OAAO,CAAC,eAAe,CAAC,EAAE;QACnC,IAAI;UACF,MAAMR,MAAM,GAAG,MAAMpB,KAAK,CAAC6B,MAAM,CAAC,UAAUzB,SAAS,CAACe,EAAE,YAAY,EAAE;YACpEG,OAAO,EAAE;cACPC,aAAa,EAAE,UAAUhB,KAAK;YAChC,CAAC;YACDuB,IAAI,EAAE;cACJpB,QAAQ,EAAEA,QAAQ;cAClBQ,QAAQ,EAAEd,SAAS,CAACe;YACtB;UACF,CAAC,CAAC;UACF,IAAIC,MAAM,EAAE;YACVR,gBAAgB,CAAC,KAAK,CAAC;YACvBY,KAAK,CAAC,cAAc,CAAC;UACvB;QACF,CAAC,CAAC,OAAOC,KAAK,EAAE;UACdD,KAAK,CAAC,gBAAgB,CAAC;QACzB;MACF;IACF,CAAC,MAAM;MACLA,KAAK,CAAC,aAAa,CAAC;IACtB;EACF,CAAC;EAED,oBACEtB,OAAA;IACE6B,OAAO,EAAEpB,aAAa,GAAGe,2BAA2B,GAAGV,qBAAsB;IAC7EgB,SAAS,EAAC,mGAAmG;IAAAC,QAAA,EAE5GtB,aAAa,GAAG,OAAO,GAAG;EAAI;IAAAuB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACzB,CAAC;AAEb;AAAChC,EAAA,CAjEuBF,eAAe;AAAAmC,EAAA,GAAfnC,eAAe;AAAA,IAAAmC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}